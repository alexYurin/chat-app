# SPA ChatApp [![Netlify Status](https://api.netlify.com/api/v1/badges/99c21787-a881-4b2c-a8e8-ee602548790a/deploy-status)](https://app.netlify.com/sites/yalex-chat/deploys)

Реализация чата как SPA приложения.
В качестве базового шаблонизатора используеться **PugJs**.
Скрипты написаны на **Typescript**, стили с помощью **SASS** препроцессора.

В проекте реализован полноценный роутинг без перезагрузкт страницы с помощью **historyApi**.
Созданы базовые и вспомогательные компоненты, с возможностью добавления к ним обработчиков событий.
Настроен линтер **Eslint** в связке с **Prettier**, **Stylelint**, а так же **husky** и **lint-staged**

Добавлены жизненные циклы компонента и возможность управления рендером. Также у полей формы теперь есть валидация.
Внедрена защита от XSS и DOS атак. Работает авторизация/регистрация.
Приложение позволяет создавать/удалять чаты, добалять/удалять пользователей из чата, а также обмениваться сообщениями.

Написаны тесты для компонента, роутера и модуля отправки запросов с помощью **Mocha**, **Chai** и **Sinon**.

## Демо

[yalex-chat.netlify.app](https://yalex-chat.netlify.app)

## UI

За образец взяты [макеты Яндекса](https://www.figma.com/file/jF5fFFzgGOxQeB4CmKWTiE/Chat_external_link?node-id=0%3A1&t=BfQk4KtXMAIq7AAr-0) с использованием собственной палитры и измененной структурой. Так настройки профиля были перемещены в сайдбар, который открывается при нажатии на кнопку "Профиль" в правом верхнем углу.

## Роуты

`/` - Страница авторизации. (Если юзер авторизован, происходит редирект на `/messenger`)

`/sign-up` - Страница регистрации.

`/messenger` - Страница списка чатов (Если юзер не авторизован, происходи редирект на `/`).

`/messenger?id=[id]` - Страница чата (где [id] - идентификатор отдельного чата).

`/settings` - Страница чата c настройками профиля пользователя.

`/not-found` - Страница 404.

`/error` - Страница для ошибок 5\*\*.

## Команды

`npm run start` или `yarn start` - Запуск проекта на `localhost:3000`.

`npm run dev` или `yarn dev` - Запуск сервера разработки. Браузер автоматически откроет вкладку с `localhost:3000`.

`npm run build` или `yarn build` - Собрать проект в директории `dist`.

`npm run precommit` или `yarn precommit` - Запустить проверку **precommit**.

`npm run test` или `yarn test` - Запустить тесты.

`npm run lint` или `yarn lint` - Запустить линтер **Eslint**.

`npm run format` или `yarn format` - Запустить проверку **Prettier**.

`npm run lint:styles` или `yarn lint:styles` - Запустить проверку **Stylelint**
